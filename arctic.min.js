(function(N){function q(a,b){return function(){return a.apply(b,arguments)}}function E(a){for(var b=a.length,c=[];b--;)c[b]=a[b];return c}function y(a,b,c){if(arc.ua.isAndroid2_1)return[a,b];var d=c*Math.PI/180;c=a*Math.cos(d)-b*Math.sin(d);a=a*Math.sin(d)+b*Math.cos(d);return[c,a]}function F(a,b,c,d,e){if(arc.ua.isAndroid2_1)return[a,b,c,d];var g=y(a,b,e),m=y(a+c,b,e),f=y(a,b+d,e);d=y(a+c,b+d,e);a=Math.min(g[0],m[0],f[0],d[0]);b=Math.min(g[1],m[1],f[1],d[1]);c=Math.max(g[0],m[0],f[0],d[0]);g=Math.max(g[1],
m[1],f[1],d[1]);return[a,b,c-a,g-b]}function G(a){return"rgb("+(a>>16)+", "+(a>>8&255)+", "+(a&255)+")"}function z(){return 90==window.orientation||-90==window.orientation?screen.height:screen.width}var O={trace:function(){try{if(1==arguments.length)console.log(arguments[0]);else{for(var a="",b=0;b<arguments.length;b++)0!=b&&(a+=","),a+=arguments[b];console.log(a)}}catch(c){}},bind:q,copyArray:E},s={};s.isiPhone=/iPhone/i.test(navigator.userAgent);s.isiPhone4=s.isiPhone&&2==window.devicePixelRatio;
s.isiPad=/iPad/i.test(navigator.userAgent);s.isiOS=s.isiPhone||s.isiPad;s.isiOS3=s.isiOS&&/OS\s3/.test(navigator.userAgent);s.isAndroid=/android/i.test(navigator.userAgent);s.isAndroid2_1=/android\s2\.1/i.test(navigator.userAgent);s.isMobile=s.isiOS||s.isAndroid;var j,I=function(){};j={create:function(){function a(){this.initialize.apply(this,arguments)}function b(a,b){var c=function(){var c=this,$super=void 0!==b?function(){return b.apply(c,arguments)}:void 0,d=E(arguments);d.unshift($super);return a.apply(c,
d)};c.valueOf=q(a.valueOf,a);c.toString=q(a.toString,a);return c}var c="function"==typeof arguments[0]?arguments[0].prototype:{};if(!arguments[0])throw Error("define class");"function"==typeof arguments[0]&&(I.prototype=c,a.prototype=new I,Array.prototype.shift.apply(arguments));var d=arguments[0],e;for(e in d){var g=d[e];if("function"==typeof g){var m=g.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");if("$super"==
(1==m.length&&!m[0]?[]:m)[0])g=b(g,c[e]);else if("initialize"==e&&c.initialize)var f=g,g=function(){c.initialize.apply(this,arguments);f.apply(this,arguments)}}a.prototype[e]=g}return a.prototype.constructor=a}};var h=j.create({type:null,target:null,_willPropagate:!0,initialize:function(a,b){this.type=a;for(var c in b)if(b.hasOwnProperty(c)&&!("type"==c||"target"==c))this[c]=b[c]},stopPropagation:function(){this._willPropagate=!1},willPropagate:function(){return this._willPropagate}});h.PROGRESS=
"PROGRESS";h.COMPLETE="COMPLETE";h.ENTER_FRAME="ENTER_FRAME";h.ERROR="ERROR";h.TIMER="TIMER";h.TIMER_COMPLETE="TIMER_COMPLETE";h.TOUCH_START="TOUCH_START";h.TOUCH_MOVE="TOUCH_MOVE";h.TOUCH_END="TOUCH_END";var u=j.create({addEventListener:function(a,b){u.listenHash[a]||(u.listenHash[a]=[]);u.listenHash[a].push({target:this,callback:b})},removeEventListener:function(a,b){var c=u.listenHash[a];if(c){for(var d=0;d<c.length;d++){var e=c[d];e.target==this&&(b&&e.callback==b||!b)&&c.splice(d,1)}0==c.length&&
delete u.listenHash[a]}},dispatchEvent:function(a,b){var c,d,e;a.constructor===String?(c=a,d=b):(e=a,c=e.type);if(u.listenHash[c]){for(var g=[],m=u.listenHash[c],f=0;f<m.length;f++)g[f]=m[f];m=g.length;for(f=0;f<m;f++){var l=g[f];l.target==this&&(e||(e=new h(c,d)),e.target=this,l.callback.call(this,e))}}}});u.listenHash={};var p=j.create({_startTime:0,_isCounting:!1,_elapsedTime:0,initialize:function(){},start:function(){this._isCounting=!0;this._startTime=p.time},stop:function(){this._isCounting=
!1},reset:function(){this._isCounting=!0;this._startTime=p.time},getElapsed:function(){this._isCounting&&(this._elapsedTime=p.time-this._startTime);return this._elapsedTime}});p.time=0;p.tick=function(){p.time=Date.now()};var A=j.create(u,{_timer:null,_currentCount:0,_repeatCount:0,_delay:0,_isRunning:!1,_updateFunc:null,initialize:function(a,b){this._timer=new p;this._delay=a;this._repeatCount=b?b:0},reset:function(){this._currentCount=0;this.stop()},start:function(){this._timer.start();this._updateFunc&&
A.system.removeEventListener(h.ENTER_FRAME,this._updateFunc);this._updateFunc=q(this._update,this);A.system.addEventListener(h.ENTER_FRAME,this._updateFunc)},_update:function(){this._timer.getElapsed()>=this._delay&&(this._currentCount++,this._timer.reset(),this.dispatchEvent(h.TIMER),this._repeatCount&&this._currentCount>=this._repeatCount&&(this.reset(),this.dispatchEvent(h.TIMER_COMPLETE)))},stop:function(){this._timer.stop();this._updateFunc&&(A.system.removeEventListener(h.ENTER_FRAME,this._updateFunc),
this._updateFunc=null)},setDelay:function(a){this._delay=a},getDelay:function(){return this._delay},setRepeatCount:function(a){this._repeatCount=a},getRepeatCount:function(){return this._repeatCount}});A.system=null;var P=j.create(u,{_method:"GET",_params:null,_url:null,_request:null,_jsonResponse:null,_loadedCallBack:null,initialize:function(){this._request=new XMLHttpRequest;this._loadedCallBack=q(this._loaded,this)},load:function(a,b){this._url=a;this._params=b;this._request.open(this._method,
this._url,!0);this._request.addEventListener("readystatechange",this._loadedCallBack,!1);this._request.send(this._params)},_loaded:function(){if(4==this._request.readyState)if(200==this._request.status||0==this._request.status)this.dispatchEvent(h.COMPLETE);else throw this.dispatchEvent(h.ERROR),Error("Load Error : "+this._url);},unload:function(){this._request.abort();this._jsonResponse=null;this._request.removeEventListener("readystatechange",this._loadedCallBack,!1)},setMethod:function(a){this._method=
a},getResponseText:function(){return this._request.responseText},getResponseJSON:function(){this._jsonResponse||(this._jsonResponse=JSON.parse(this._request.responseText));return this._jsonResponse},getURL:function(){return this._url}}),f={};f.Image=j.create(u,{_data:null,_path:null,_width:null,_height:null,_frameWidth:null,_lx:null,_ly:null,_lwidth:null,_lheight:null,_hasLocalPos:!1,initialize:function(a,b){if(!a&&a.constructor!=HTMLImageElement)throw Error("set HTMLImageElement");this._data=a;this._path=
a.src;b&&4==b.length?(this._lx=b[0],this._ly=b[1],this._lwidth=b[2],this._lheight=b[3],this._hasLocalPos=!0,this._width=this._lwidth,this._height=this._lheight):(this._width=this._data.width,this._height=this._data.height)},duplicate:function(){var a=new f.Image;a._setData(this._data);return a},changeScale:function(a,b){return this.changeSize(this._width*a,this._height*b)},changeSize:function(a,b){var c=document.createElement("canvas"),d=0,e=0,g=this._width,f=this._height;c.width=a;c.height=b;this._hasLocalPos&&
(d=this._lx,e=this._ly,g=this._lwidth,f=this._lheight,this._hasLocalPos=!1);if(arc.ua.isAndroid2_1&&320!=z()){var k=320/z(),d=~~(d*k),e=~~(e*k),g=~~(g*k),f=~~(f*k);a=~~(a*k);b=~~(b*k)}c.getContext("2d").drawImage(this._data,d,e,g,f,0,0,a,b);this._data=c;this._width=this._data.width;this._height=this._data.height;return this},changeColor:function(a,b){var c=this._data.width,d=this._data.height,e=document.createElement("canvas");e.width=c;e.height=d;var g=e.getContext("2d");g.drawImage(this._data,0,
0);for(var f=g.getImageData(0,0,c,d),k=g.createImageData(c,d),l=a>>16,h=a>>8&255,t=a&255,x=0;x<d;x++)for(var n=0;n<c;n++){var r=4*n+4*x*c,j=(h-f.data[r+1])*b+f.data[r+1],q=(t-f.data[r+2])*b+f.data[r+2],p=f.data[r+3];k.data[r]=((l-f.data[r])*b+f.data[r])*p/255|0;k.data[r+1]=j*p/255|0;k.data[r+2]=q*p/255|0;k.data[r+3]=p}g.putImageData(k,0,0);this._data=e;return this},draw:function(a,b,c){if(this._hasLocalPos)this.drawCrop(this._lx,this._ly,this._lwidth,this._lheight,a,b,this._width,this._height,c);
else{if(arc.ua.isAndroid2_1&&320!=z()){var d=320/z();a*=d;b*=d}a=~~a;b=~~b;d=f.Image.context;d.save();d.translate(a,b);0!=c%360&&d.rotate(c);d.drawImage(this._data,0,0);d.restore()}},drawSize:function(a,b,c,d,e){if(this._hasLocalPos)this.drawCrop(this._lx,this._ly,this._lwidth,this._lheight,a,b,c,d,e);else{var g=c/this._width,m=d/this._height,k=f.Image.context;arc.ua.isAndroid2_1?(e=320/z(),k.drawImage(this._data,~~(a*e),~~(b*e),~~(c*e),~~(d*e))):(a=~~a,b=~~b,k.save(),k.translate(a,b),0!=e%360&&k.rotate(e*
Math.PI/180),(1!=g||1!=m)&&k.scale(g,m),k.drawImage(this._data,0,0,this._width,this._height),k.restore())}},drawCrop:function(a,b,c,d,e,g,m,k,l){this._hasLocalPos&&this._frameWidth&&(a+=this._lx,b+=this._ly);var h=this._frameWidth?this._frameWidth:this._width,t=m/h,x=k/this._height,n=f.Image.context;arc.ua.isAndroid2_1?(l=320/z(),this._data.constructor!=HTMLCanvasElement&&(a=~~(a*l),b=~~(b*l),c=~~(c*l),d=~~(d*l)),n.drawImage(this._data,a,b,c,d,~~(e*l),~~(g*l),~~(m*l),~~(k*l))):(a=~~a,b=~~b,c=~~c,
d=~~d,e=~~e,g=~~g,n.save(),n.translate(e,g),0!=l%360&&n.rotate(l*Math.PI/180),(1!=t||1!=x)&&n.scale(t,x),n.drawImage(this._data,a,b,c,d,0,0,h,this._height),n.restore())},setFrameWidth:function(a){this._frameWidth=a},getFrameWidth:function(){return this._frameWidth},getWidth:function(){return this._width},getHeight:function(){return this._height},getPath:function(){return this._path}});f.Image.context=null;f.DisplayObject=j.create(u,{_data:null,_parent:null,_x:0,_y:0,_width:null,_height:null,_visible:!0,
_scaleX:1,_scaleY:1,_alpha:1,_rotation:0,_alignX:0,_alignY:0,_screenRect:[],initialize:function(a){a&&(this._data=a,this._width=this._data.getWidth(),this._height=this._data.getHeight(),this._screenRect=[0,0,this._width,this._height])},localToGlobal:function(a,b){for(var c=this,d=a,e=b,g=0,f=0;c;)d=y(d,e,c.getRotation()),g+=d[0],f+=d[1],d=c.getX(),e=c.getY(),c=c.getParent();return[g,f]},globalToLocal:function(a,b){for(var c=[],d=this,e=a,g=b;d;)c.unshift(d),d=d.getParent();for(d=0;d<c.length;d++)var f=
c[d],e=e-f.getX(),g=g-f.getY(),e=y(e,g,-1*f.getRotation()),g=e[1],e=e[0];return[e,g]},hitTestObject:function(){},draw:function(){},setX:function(a){this._x=a;this._updateScreenRect()},getX:function(){return this._x},setY:function(a){this._y=a;this._updateScreenRect()},getY:function(){return this._y},setWidth:function(a){a||(a=0);this._width=a;this._data&&(this._scaleX=this._width/this._data.getWidth());this._updateScreenRect()},getWidth:function(){return this._width},setHeight:function(a){a||(a=0);
this._height=a;this._data&&(this._scaleY=this._height/this._data.getHeight());this._updateScreenRect()},getHeight:function(){return this._height},setScaleX:function(a){a||(a=0);this._scaleX=a;this._width=this._data.getWidth()*this._scaleX;this._updateScreenRect()},getScaleX:function(){return this._scaleX},setScaleY:function(a){a||(a=0);this._scaleY=a;this._height=this._data.getHeight()*this._scaleY;this._updateScreenRect()},getScaleY:function(){return this._scaleY},setVisible:function(a){this._visible=
a},getVisible:function(){return this._visible},getParent:function(){return this._parent},setAlpha:function(a){a||(a=0);this._alpha=a},getAlpha:function(){return this._alpha},setRotation:function(a){a||(a=0);this._rotation=a},getRotation:function(){return this._rotation},getAlignX:function(){return this._alignX},getAlignY:function(){return this._alignY},getStage:function(){return f.Stage.instance},_updateScreenRect:function(){this._screenRect=F(this._x+this._alignX*this._scaleX,this._y+this._alignY*
this._scaleY,this._width,this._height,this._rotation)}});f.DisplayObjectContainer=j.create(f.DisplayObject,{_displayArr:null,_originWidth:0,_originHeight:0,_maskObj:null,initialize:function($super){$super(null);this._displayArr=[];this._minX=this._maxX=this._minY=this._maxY=0},addChild:function(a){for(var b=this._displayArr.length,c=0;c<b;c++)if(this._displayArr[c]==a)return;this._displayArr.push(a);a._parent=this;this._updateSize()},addChildAt:function(a,b){this._displayArr.splice(b,0,a);a._parent=
this;this._updateSize()},removeChild:function(a){for(var b=this._displayArr.length,c=0;c<b;c++)if(this._displayArr[c]==a){this._displayArr.splice(c,1);a._parent=null;a._removeAllChild&&a._removeAllChild();break}this._updateSize()},_removeAllChild:function(){var a,b,c;a=0;for(b=this._displayArr.length;a<b;a++)c=this._displayArr[a],c._parent=null,c._removeAllChild&&c._removeAllChild();this._displayArr=[]},contains:function(a){for(var b=this._displayArr.length,c=0;c<b;c++)if(this._displayArr[c]==a)return!0;
return!1},setChildIndex:function(a,b){for(var c=0,d=this._displayArr.length;c<d;c++)this._displayArr[c]==a&&(this._displayArr.splice(c,1),this._displayArr.splice(b,0,a))},draw:function(a,b,c,d,e,g){if(this.getVisible()){a|=0;b|=0;c=!isNaN(c)?c:1;d=!isNaN(d)?d:1;e=!isNaN(e)?e:1;c*=this._scaleX;d*=this._scaleY;e*=this._alpha;g=(g?g:0)+this._rotation;for(var m=f.Image.context,k=E(this._displayArr),l=k.length,h=0;h<l;h++){var t=k[h],x=t.getX()*c,n=t.getY()*d;if(0!=g%360)var r=y(x,n,g),x=r[0],n=r[1];var r=
t.getAlignX()*c*t.getScaleX(),j=t.getAlignY()*d*t.getScaleY(),r=y(r,j,t.getRotation()+g),x=x+(r[0]+a),n=n+(r[1]+b);t.getVisible()&&(this._maskObj&&(m.save(),m.beginPath(),m.rect(this._maskObj.x*c+a,this._maskObj.y*d+b,this._maskObj.width*c,this._maskObj.height*d),m.closePath(),m.clip()),t.draw(x,n,c,d,e,g),this._maskObj&&m.restore())}this._updateSize()}},_updateSize:function(){for(var a=0,b=0,c=0,d=0,e=this._displayArr.length,g=0;g<e;g++){var f=this._displayArr[g],h=f._screenRect[0],l=f._screenRect[1],
j=f._screenRect[0]+f._screenRect[2],f=f._screenRect[1]+f._screenRect[3];0==g&&(a=h,b=l,c=j,d=f);h<a&&(a=h);j>c&&(c=j);l<b&&(b=l);f>d&&(d=f)}this._originWidth=c-a;this._originHeight=d-b;this._width=this._originWidth*this._scaleX;this._height=this._originHeight*this._scaleY;this._screenRect=F(a*this._scaleX+this._x,b*this._scaleY+this._y,this._width,this._height,this._rotation)},setWidth:function(a){this._width=a;this._scaleX=this._width/this._originWidth},setHeight:function(a){this._height=a;this._scaleY=
this._height/this._originHeight},setScaleX:function(a){this._scaleX=a;this._width=this._originWidth*this._scaleX},setScaleY:function(a){this._scaleY=a;this._height=this._originHeight*this._scaleY},setMask:function(a,b,c,d){this._maskObj={x:a,y:b,width:c,height:d}},clearMask:function(){this._maskObj=null},_updateScreenRect:function(){this._updateSize()}});f.Align={TOP:"TOP",TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",CENTER:"CENTER",LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM",BOTTOM_LEFT:"BOTTOM_LEFT",
BOTTOM_RIGHT:"BOTTOM_RIGHT"};f.Shape=j.create(f.DisplayObject,{_funcStack:null,_minX:0,_maxX:0,_minY:0,_maxY:0,_firstFlg:!0,_willBeFilled:!1,_willBeStroked:!1,initialize:function(){this._funcStack=[]},beginFill:function(a,b){var c=this;this._funcStack.push(function(d,e,g,h,k){c._willBeFilled=!0;d=f.Image.context;d.fillStyle=G(a);d.globalAlpha=b*k})},endFill:function(){var a=this;this._funcStack.push(function(){a._willBeFilled=!1})},beginStroke:function(a,b,c){var d=this;c||(c=1);this._funcStack.push(function(e,
g,h,k,l){d._willBeStroked=!0;e=f.Image.context;e.lineWidth=a;e.strokeStyle=G(b);e.globalAlpha=c*l})},endStroke:function(){var a=this;this._funcStack.push(function(){a._willBeStroked=!1})},moveTo:function(a,b){this._funcStack.push(function(c,d,e,g){f.Image.context.moveTo((a+c)/e,(b+d)/g)})},lineTo:function(a,b){var c=this;this._funcStack.push(function(d,e,g,h){var k=f.Image.context;k.lineTo((a+d)/g,(b+e)/h);c._willBeStroked&&k.stroke()})},_updateSize:function(a,b,c,d){this._firstFlg&&(this._firstFlg=
!1,this._minX=a,this._maxX=a+c,this._minY=b,this._maxY=b+d);a<this._minX&&(this._minX=a);a+c>this._maxX&&(this._maxX=a+c);b<this._minY&&(this._minY=b);b+d>this._maxY&&(this._maxY=b+d);this._originWidth=this._maxX-this._minX;this._originHeight=this._maxY-this._minY;this._width=this._originWidth*this._scaleX;this._height=this._originHeight*this._scaleY;this._updateScreenRect()},drawRect:function(a,b,c,d){this._updateSize(a,b,c,d);var e=this;this._funcStack.push(function(g,h,k,l){var j=f.Image.context;
j.beginPath();j.rect((a+g)/k,(b+h)/l,c,d);e._willBeFilled&&j.fill();e._willBeStroked&&j.stroke()})},drawCircle:function(a,b,c){this._updateSize(a-c,b-c,2*c,2*c);var d=this;this._funcStack.push(function(e,g,h,k){var l=f.Image.context;l.beginPath();l.arc((a+e)/h,(b+g)/k,c,0,360,!1);d._willBeFilled&&l.fill();d._willBeStroked&&l.stroke()})},draw:function(a,b,c,d,e,g){a|=0;b|=0;c=!isNaN(c)?c:1;d=!isNaN(d)?d:1;e=!isNaN(e)?e:1;c*=this._scaleX;d*=this._scaleY;e*=this._alpha;g=(g?g:0)+this._rotation;var h=
this._funcStack.length,k=f.Image.context;k.save();k.scale(c,d);for(var l=0;l<h;l++)this._funcStack[l].call(this,a,b,c,d,e,g);k.restore()},setWidth:function(a){this._width=a;this._scaleX=this._width/this._originWidth;this._updateScreenRect()},getWidth:function(){return this._width*this._scaleX},setHeight:function(a){this._height=a;this._scaleY=this._height/this._originHeight;this._updateScreenRect()},getHeight:function(){return this._height*this._scaleY},setScaleX:function(a){this._scaleX=a;this._width=
this._originWidth*this._scaleX;this._updateScreenRect()},setScaleY:function(a){this._scaleY=a;this._height=this._originHeight*this._scaleY;this._updateScreenRect()},_updateScreenRect:function(){this._screenRect=F(this._x+this._minX*this._scaleX,this._y+this._minY*this._scaleY,this._width,this._height,this._rotation)}});f.ImageContainer=j.create(f.DisplayObject,{_align:f.Align.TOP_LEFT,_alignX:0,_alignY:0,initialize:function(){},setAlign:function(a){var b=this._data.getFrameWidth()?this._data.getFrameWidth():
this._data.getWidth();switch(a){case f.Align.TOP:this._alignX=-1*b/2;this._alignY=0;break;case f.Align.TOP_LEFT:this._alignY=this._alignX=0;break;case f.Align.TOP_RIGHT:this._alignX=-1*b;this._alignY=0;break;case f.Align.CENTER:this._alignX=-1*b/2;this._alignY=-1*this._data.getHeight()/2;break;case f.Align.LEFT:this._alignX=0;this._alignY=-1*this._data.getHeight()/2;break;case f.Align.RIGHT:this._alignX=-1*b;this._alignY=-1*this._data.getHeight()/2;break;case f.Align.BOTTOM:this._alignX=-1*b/2;this._alignY=
-1*this._data.getHeight();break;case f.Align.BOTTOM_LEFT:this._alignX=0;this._alignY=-1*this._data.getHeight();break;case f.Align.BOTTOM_RIGHT:this._alignX=-1*b;this._alignY=-1*this._data.getHeight();break;default:throw Error("Specify align");}this._align=a},getAlign:function(){return this._align}});f.Sprite=j.create(f.ImageContainer,{initialize:function(){},draw:function(a,b,c,d,e,g){a|=0;b|=0;c=!isNaN(c)?c:1;d=!isNaN(d)?d:1;e=!isNaN(e)?e:1;g=this._rotation+(g?g:0);var h=f.Image.context;h.globalAlpha=
this._alpha*e;this._data.drawSize(a,b,this._width*c,this._height*d,g);h.globalAlpha=1}});f.MovieClip=j.create(f.DisplayObjectContainer,{_shouldLoop:!1,_fps:0,_timer:null,_currentFrame:0,_isPlaying:!1,_isShowed:!1,_timelineArr:null,_totalFrame:0,_shouldAutoPlay:!1,initialize:function(a,b,c){this._fps=a;this._shouldLoop=b;this._timer=new p;this._currentFrame=1;this._timelineArr=[];this._totalFrame=0;this._shouldAutoPlay=void 0==c?!0:c},draw:function($super,b,c,d,e,f,h){!this._isShowed&&this._shouldAutoPlay&&
(this._isShowed=!0,this.play());this._isPlaying&&this._update();$super(b,c,d,e,f,h)},_update:function(){var a=this._timer.getElapsed();a>=1E3/this._fps&&(this._step(),a=this._timer.getElapsed());for(var b=0;b<this._timelineArr.length;b++)this._timelineArr[b].update(this._currentFrame,a)},_step:function(){this._timer.reset();this._currentFrame++;this._executeKeyFrame(this._currentFrame);this._currentFrame==this._totalFrame&&(this._shouldLoop?this._currentFrame=0:this.stop())},_executeKeyFrame:function(a){for(var b,
c,d=0,e=this._timelineArr.length;d<e;d++)b=this._timelineArr[d],c=b.getTarget(),a==b.getFirstFrame()&&c.gotoAndPlay&&c.gotoAndPlay(1),b.executeKeyFrame(a)},removeChild:function($super,b){$super(b);this._isPlaying=!1;this._timer.stop();for(var c=0,d=this._timelineArr.length;c<d;c++)if(this._timelineArr[c].getTarget()===b){this._timelineArr.splice(c,1);break}},_setTimeline:function(a,b){timeline=new v.Timeline(a,b,this._fps);this._timelineArr.push(timeline);totalFrame=timeline.getTotalFrames();this._totalFrame<
totalFrame&&(this._totalFrame=totalFrame)},addChild:function($super,b,c){$super(b);c&&this._setTimeline(b,c)},addChildAt:function($super,b,c,d){$super(b,c);d&&this._setTimeline(b,d)},play:function(){this._isPlaying=!0;this._timer.start();this._executeKeyFrame(this._currentFrame)},stop:function(){this._isPlaying=!1;this._timer.stop()},gotoAndPlay:function(a){if(1>a||a>this._totalFrame)throw Error("Invalid frame index");this._currentFrame=a;this.play()},gotoAndStop:function(a){if(1>a||a>this._totalFrame)throw Error("Invalid frame index");
this._currentFrame=a;this.stop()}});f.JSONMovieClip=j.create(f.MovieClip,{initialize:function($super,b){function c(b,h){var l,n,j,m,p;n=d(b);if(!n)throw Error("invalid animation");if("data"==n.type)return n.pos?new e(arc._system.getImage(n.data,n.pos)):new e(arc._system.getImage(n.data));h||(h=new f(k,n.loop));l=0;for(j=n.timelines.length;l<j;l++)m=n.timelines[l],p=c(m.target),p.constructor===e&&m.align&&p.setAlign(m.align),h.addChildAt(p,0,m.keyframes);return h}function d(b){var c,d,e;c=0;for(d=
h.length;c<d&&!(e=h[c],e.id==b);c++);return e}var e=arc.display.Sprite,f=arc.display.MovieClip,h=b.lib,k=b.fps,l=d(b.main);$super(k);this._shouldLoop=l.loop;c(b.main,this)}});f.SheetMovieClip=j.create(f.ImageContainer,{_currentFrame:1,_totalFrame:1,_frameWidth:0,_frameTime:0,_isPlaying:!1,_timer:null,_shouldLoop:!1,_shouldHide:!1,initialize:function(a,b,c,d,e){this._timer=new p;this._frameWidth=b;this._totalFrame=Math.floor(this._data.getWidth()/b);this._width=b;this._frameTime=1E3/c;this._shouldLoop=
d;this._shouldHide=e;this._data.setFrameWidth(this._frameWidth);this._shouldHide&&(this._visible=!1);this.stop()},play:function(a){this._isPlaying=!0;void 0!=a&&(this._shouldLoop=a);this._shouldHide&&!this._visible&&(this._visible=!0);this._timer.start()},stop:function(){this._isPlaying=!1;this._timer.stop();this._shouldHide&&(this._visible=!1)},gotoAndPlay:function(a){if(1>a||a>this._totalFrame)throw Error("Invalid frame index");this._currentFrame=a;this.play()},gotoAndStop:function(a){if(1>a||a>
this._totalFrame)throw Error("Invalid frame index");this._currentFrame=a;this.stop()},draw:function(a,b,c,d,e,g){a|=0;b|=0;c=!isNaN(c)?c:1;d=!isNaN(d)?d:1;isNaN(e);g=g?g:0;this._visible&&(this._isPlaying&&this._timer.getElapsed()>=this._frameTime&&(this._currentFrame++,this._timer.reset(),this._currentFrame>this._totalFrame&&(this._shouldLoop?this._currentFrame%=this._totalFrame:(this._currentFrame=this._totalFrame,this.stop(),this.dispatchEvent(h.COMPLETE)))),e=this._rotation+g,g=f.Image.context,
g.globalAlpha=this._alpha,this._data.drawCrop((this._currentFrame-1)*this._frameWidth,0,this._frameWidth,this._data.getHeight(),a,b,this._width*c,this._height*d,e),g.globalAlpha=1)},setWidth:function(a){this._width=a;this._scaleX=this._width/this._frameWidth},setScaleX:function(a){this._scaleX=a;this._width=this._frameWidth*this._scaleX}});f.SequenceMovieClip=j.create(f.DisplayObjectContainer,{_spriteArr:null,_frameTime:0,_shouldLoop:!1,_shouldHide:!1,_isPlaying:!1,_totalFrame:0,_currentIndex:0,_timer:null,
initialize:function(a,b,c,d){var e=0,g=a.length;this._spriteArr=[];this._frameTime=b;this._shouldLoop=c;this._shouldHide=d;this._totalFrame=a.length;this._timer=new p;for(e=0;e<g;e++)b=new f.Sprite(a[e]),b.setVisible(!1),this._spriteArr.push(b),this.addChild(b);d&&(this._visible=!1)},draw:function($super,b,c,d,e,f,j){$super(b,c,d,e,f,j);b=this._spriteArr.length;this._isPlaying&&(c=Math.floor(this._timer.getElapsed()/this._frameTime),c>this._totalFrame-1&&(this._shouldLoop?c%=this._totalFrame:(c=this._totalFrame,
this.stop(),this.dispatchEvent(h.COMPLETE))),this._currentFrame=c);for(c=0;c<b;c++)d=this._spriteArr[c],c==this._currentFrame?d.setVisible(!0):d.setVisible(!1)},play:function(a){this._isPlaying=!0;a&&(this._shouldLoop=a);this._shouldHide&&!this._visible&&(this._visible=!0);this._timer.start()},stop:function(){this._isPlaying=!1;this._timer.stop();this._shouldHide&&(this._visible=!1)},gotoAndPlay:function(a){if(1>a||a>this._totalFrame)throw Error("Invalid frame index");this._currentFrame=a;this.play()},
gotoAndStop:function(a){if(1>a||a>this._totalFrame)throw Error("Invalid frame index");this._currentFrame=a;this.stop()}});f.Stage=j.create(f.DisplayObjectContainer,{initialize:function(a,b){if(f.Stage.instance)return f.Stage.instance;f.Stage.instance=this;this._stageWidth=a;this._stageHeight=b},getStageWidth:function(){return this._stageWidth},getStageHeight:function(){return this._stageHeight}});f.Stage.instance=null;f.TextField=j.create(f.DisplayObject,{_font:null,_family:"sans-serif",_textArr:null,
_color:0,_align:"left",_baseline:"top",_size:10,initialize:function(){if(s.isiOS3)throw Error("Your can't use TextField in iOS3");this._font=this._size+"px "+this._family;this._textArr=[]},draw:function(a,b,c,d,e){a|=0;b|=0;isNaN(c);isNaN(d);e=!isNaN(e)?e:1;c=f.Image.context;c.globalAlpha=this._alpha*e;c.save();c.fillStyle=G(this._color);c.textBaseline="top";c.font=this._font;c.textAlign=this._align;c.textBaseline=this._baseline;e=0;for(d=this._textArr.length;e<d;e++)c.fillText(this._textArr[e],a,
b),b+=this._size;c.restore();c.globalAlpha=1},setAlign:function(a){switch(a){case f.Align.TOP:this._align="center";this._baseline="top";break;case f.Align.TOP_LEFT:this._align="left";this._baseline="top";break;case f.Align.TOP_RIGHT:this._align="right";this._baseline="top";break;case f.Align.CENTER:this._align="center";this._baseline="middle";break;case f.Align.LEFT:this._align="left";this._baseline="middle";break;case f.Align.RIGHT:this._align="right";this._baseline="middle";break;case f.Align.BOTTOM:this._align=
"center";this._baseline="bottom";break;case f.Align.BOTTOM_LEFT:this._align="left";this._baseline="bottom";break;case f.Align.BOTTOM_RIGHT:this._align="right";this._baseline="bottom";break;default:throw Error("Specify align");}},setText:function(a){a instanceof String||(a=String(a));this._textArr=a.split("\n");this._width&&this._adjustWidth()},_adjustWidth:function(){var a=f.Image.context;a.font=this._font;for(var b=0;b<this._textArr.length;b++){var c=this._textArr[b],d=a.measureText(c);if(!(d.width<=
this._width))for(var e=0,g=c.length;e<g;e++)if(d=c.substr(0,e+1),d=a.measureText(d),d.width>this._width){this._textArr[b]=c.substr(0,e);this._textArr.splice(b+1,0,c.substr(e));break}}},setFont:function(a,b,c){this._family=a;this._size=b;this._font=b+"px "+a;c&&(this._font="bold "+this._font);this._textArr.length&&this._width&&this._adjustWidth()},setColor:function(a){this._color=a}});var v={};v.Animation=j.create(u,{_timer:null,_target:null,_system:null,_animObjArr:null,_shouldReplay:!1,_isPlaying:!1,
_currentIndex:0,_currentAnim:null,_currentTransFunc:null,_firstParams:null,_currentDuration:null,_updateFunc:null,_HALF_PI:Math.PI/2,initialize:function(a){if(!a)throw Error("Specify target");if(2>arguments.length)throw Error("Specify Animaiton Objects");this._target=a;this._timer=new p;this._animObjArr=[];for(var b=1;b<arguments.length;b++)this._animObjArr.push(arguments[b])},play:function(a){if(!this._isPlaying){var b=v.Animation.system;this._isPlaying=!0;this._shouldReplay=a;this._timer.start();
this._currentIndex=-1;this._changeAnim()&&(this._updateFunc&&b.removeEventListener(h.ENTER_FRAME,this._updateFunc),this._updateFunc=q(this._update,this),b.addEventListener(h.ENTER_FRAME,this._updateFunc))}},stop:function(){if(this._isPlaying){var a=v.Animation.system;this._isPlaying=!1;this._updateFunc&&(a.removeEventListener(h.ENTER_FRAME,this._updateFunc),this._updateFunc=null);this.dispatchEvent(h.COMPLETE)}},_changeAnim:function(){this._currentIndex++;if(this._currentIndex>=this._animObjArr.length)if(this._shouldReplay)this._currentIndex=
0;else return this.stop(),!1;this._timer.reset();var a=this._animObjArr[this._currentIndex];this._currentAnim={};this._firstParams={};for(var b in a)"time"==b||"transition"==b||(this._currentAnim[b]=a[b],this._firstParams[b]=this._getProperty(this._target,b));this._currentDuration=void 0==a.time?1E3:a.time;this._currentTransFunc=v.Transition.getTransFunc(a.transition);return!0},_getProperty:function(a,b){b.match(/^([a-z])(.*)/);var c="get"+RegExp.$1.toUpperCase()+RegExp.$2;if(a[c])return a[c]()},
_setProperty:function(a,b,c){b.match(/^([a-z])(.*)/);b="set"+RegExp.$1.toUpperCase()+RegExp.$2;if(a[b])a[b](c)},_update:function(){var a=this._timer.getElapsed(),b=this._currentTransFunc(a/this._currentDuration);if(a>=this._currentDuration){for(var c in this._currentAnim)this._setProperty(this._target,c,this._currentAnim[c]);this._changeAnim()&&this._update()}else for(c in this._currentAnim)a=(this._currentAnim[c]-this._firstParams[c])*b+this._firstParams[c],"visible"==c&&(a=this._firstParams[c]),
this._setProperty(this._target,c,a)},isPlaying:function(){return this._isPlaying}});v.Animation.system=null;var J=function(a){return a},B=function(a){return 1-Math.cos(a*Q)},R=function(a){return 1-B(1-a)},S=function(a){return 0.5>a?0.5*B(2*a):1-0.5*B(2-2*a)},C=function(a){return 1-Math.sqrt(1-a*a)},T=function(a){return 1-C(1-a)},U=function(a){return 0.5>a?0.5*C(2*a):1-0.5*C(2-2*a)},D=function(a){return a*a*a},V=function(a){return 1-D(1-a)},W=function(a){return 0.5>a?0.5*D(2*a):1-0.5*D(2-2*a)},H=function(a){return 1-
K(1-a)},K=function(a){var b=1-a;return 1-Math.pow(b,8)+Math.sin(6*(a*a)*Math.PI)*b*b},X=function(a){return 0.5>a?0.5*H(2*a):1-0.5*H(2-2*a)},w={SINE_IN:"SINE_IN",SINE_OUT:"SINE_OUT",SINE_INOUT:"SINE_INOUT",LINEAR:"LINEAR",CIRC_IN:"CIRC_IN",CIRC_OUT:"CIRC_OUT",CIRC_INOUT:"CIRC_INOUT",CUBIC_IN:"CUBIC_IN",CUBIC_OUT:"CUBIC_OUT",CUBIC_INOUT:"CIRC_INOUT",ELASTIC_IN:"ELASTIC_IN",ELASTIC_OUT:"ELASTIC_OUT",ELASTIC_INOUT:"ELASTIC_INOUT",getTransFunc:function(a){switch(a){case w.LINEAR:return J;case w.SINE_IN:return B;
case w.SINE_OUT:return R;case w.SINE_INOUT:return S;case w.CIRC_IN:return C;case w.CIRC_OUT:return T;case w.CIRC_INOUT:return U;case w.CUBIC_IN:return D;case w.CUBIC_OUT:return V;case w.CUBIC_INOUT:return W;case w.ELASTIC_IN:return H;case w.ELASTIC_OUT:return K;case w.ELASTIC_INOUT:return X;default:return J}}},Q=Math.PI/2;v.Transition=w;v.Timeline=j.create({_target:null,_keyFrameObj:null,_totalFrame:0,_fps:0,_baseFrame:null,_firstFrame:0,initialize:function(a,b,c){this._target=a;this._keyFrameObj=
b;c&&(this._fps=c);for(var d in this._keyFrameObj){a=b[d];c=parseInt(d,10);if(0==this._firstFrame||this._firstFrame>c)this._firstFrame=c;a.index=d;a=parseInt(d,10);this._totalFrame<a&&(this._totalFrame=a)}},update:function(a,b){if(this._baseFrame&&this._baseFrame.transition&&this._baseFrame.nextFrame){b+=1E3*(a-this._baseFrame.index)/this._fps;var c=1E3*(this._baseFrame.nextFrame.index-this._baseFrame.index)/this._fps,c=v.Transition.getTransFunc(this._baseFrame.transition)(b/c),d;for(d in this._baseFrame)if(!("transition"==
d||"action"==d||"index"==d||"nextFrame"==d||void 0==this._baseFrame.nextFrame[d])){var e=(this._baseFrame.nextFrame[d]-this._baseFrame[d])*c+this._baseFrame[d];"visible"==d&&(e=this._baseFrame[d]);this._setProperty(this._target,d,e)}}},executeKeyFrame:function(a){var b=this._keyFrameObj[a];if(b){this._baseFrame=b;for(var c in b)"transition"==c||("action"==c||"index"==c||"nextFrame"==c)||this._setProperty(this._target,c,b[c]);b.action&&b.action instanceof Function&&b.action.apply(this._target);if(b.transition&&
!b.nextFrame)for(;a<=this._totalFrame;)if(a++,this._keyFrameObj[a]){a=this._keyFrameObj[a];for(c in a)b[c]||(b[c]=this._getProperty(this._target,c));b.nextFrame=a;break}}},setTotalFrames:function(a){this._totalFrame=a},getTotalFrames:function(){return this._totalFrame},setFps:function(a){this._fps=a},getTarget:function(){return this._target},getFirstFrame:function(){return this._firstFrame},_getProperty:function(a,b){b.match(/^([a-z])(.*)/);var c="get"+RegExp.$1.toUpperCase()+RegExp.$2;if(a[c])return a[c]()},
_setProperty:function(a,b,c){b.match(/^([a-z])(.*)/);b="set"+RegExp.$1.toUpperCase()+RegExp.$2;if(a[b])a[b](c)}});v.KeyFrameAnimation=j.create(u,{_fps:0,_totalFrame:0,_timelineArr:null,_timer:null,_updateFunc:null,_shouldLoop:!1,_currentFrame:1,initialize:function(a,b,c){this._fps=a;this._totalFrame=b;this._timer=new p;for(a=0;a<c.length;a++){var d=c[a];if(d.constructor!=v.Timeline)throw Error("set an instance of anim.Timeline");d.setTotalFrames(b);d.setFps(this._fps)}this._timelineArr=c?c:[]},addTimeline:function(a){this._timelineArr.push(a)},
play:function(a){this.gotoAndPlay(1,a)},stop:function(){var a=v.Animation.system;this._updateFunc&&(a.removeEventListener(h.ENTER_FRAME,this._updateFunc),this._updateFunc=null);this.dispatchEvent(h.COMPLETE)},gotoAndPlay:function(a,b){if(a>this._totalFrame)throw Error("invalid frame index");b&&(this._shouldLoop=b);this._updateFunc=q(this._update,this);this._currentFrame=a;this._executeKeyFrame(this._currentFrame);this._timer.start();v.Animation.system.addEventListener(h.ENTER_FRAME,this._updateFunc)},
_update:function(){var a=this._timer.getElapsed();a>=1E3/this._fps&&(this._step(),a=this._timer.getElapsed());for(var b=0;b<this._timelineArr.length;b++)this._timelineArr[b].update(this._currentFrame,a)},_step:function(){this._timer.reset();this._currentFrame++;this._executeKeyFrame(this._currentFrame);this._currentFrame==this._totalFrame&&(this._shouldLoop?this._currentFrame=0:this.stop())},_executeKeyFrame:function(a){for(var b=0;b<this._timelineArr.length;b++)this._timelineArr[b].executeKeyFrame(a)},
getCurrentFrame:function(){return this._currentFrame},getTotalFrame:function(){return this._totalFrame}});var L=j.create(u,function(){function a(a){a.target.onload=null;a.target.onerror=null;this._loadedImgNum++;this.dispatchEvent(h.PROGRESS);this._loadedImgNum==this._loadImgNum&&this.dispatchEvent(h.COMPLETE)}function b(a){var b,e,f;b=0;for(e=this._loadingImgArr.length;b<e;b++)f=this._loadingImgArr[b],f.onload=null,f.onerror=null;this.dispatchEvent(h.ERROR);throw Error("Load Error : "+a.target.src);
}return{initialize:function(){this._loadedImgNum=this._loadImgNum=0;this._imageHash={};this._loadingImgArr=[];this._srcArr=[]},load:function(c){this._srcArr=c;this._loadedImgNum=0;this._loadImgNum=c.length;this._loadingImgArr=[];if(!c||0===c.length)this.dispatchEvent(h.COMPLETE);else{c=0;for(var d=this._srcArr.length;c<d;c++){var e=this._srcArr[c],f;e.constructor==HTMLImageElement?(f=e,f.complete?a.call(this,{target:f}):(e.onload=q(a,this),e.onerror=q(b,this))):e.constructor==String&&(f=document.createElement("img"),
f.src=e,f.onload=q(a,this),f.onerror=q(b,this),this._imageHash[e]=f);this._loadingImgArr.push(f)}this._srcArr=[]}},getImage:function(a,b){return!this._imageHash[a]?null:b&&4==b.length?new f.Image(this._imageHash[a],b):new f.Image(this._imageHash[a])},getTotal:function(){return this._loadImgNum},getLoaded:function(){return this._loadedImgNum}}}()),Y=j.create(u,{_fps:60,_originFps:0,_width:0,_height:0,_canvas:null,_context:null,_disableClearRect:!1,_game:null,_gameClass:null,_gameParams:null,_intervalId:null,
_stage:null,_imageManager:null,_realFps:0,_runTime:0,_runCount:0,_prevTime:0,_fpsElem:null,_maxFps:0,_adjustCount:1,_timer:null,_canvasScale:1,_ADJUST_FPS_TIME:1E4,_ADJUST_FACTOR:2.5,initialize:function(a,b,c,d){this._width=a;this._height=b;this._canvas=document.getElementById(c);this._context=this._canvas.getContext("2d");this._stage=new f.Stage(a,b);this._timer=new p;this._disableClearRect=d?!0:!1;this._canvas.width=this._width;this._canvas.height=this._height;v.Animation.system=this;A.system=this;
f.Image.context=this._context;arc._system=this;this._fpsElem=document.getElementById("fps");this._setEvent();this._setScroll()},setFullScreen:function(a,b){this._fullScreenMode=a?a:"width";this._shouldShrink=b;this._setViewport();s.isiOS?window.addEventListener("orientationchange",q(this._setViewport,this),!0):window.addEventListener("resize",q(this._setViewport,this),!0)},_setViewport:function(){var a=window.innerWidth,b=window.innerHeight;!this._shouldShrink&&a<this._canvas.width&&(a=this._canvas.width);
!this._shouldShrink&&b<this._canvas.height&&(b=this._canvas.height);a/=this._canvas.width;b/=this._canvas.height;switch(this._fullScreenMode){case "width":this._canvasScale=a;break;case "height":this._canvasScale=b;break;case "all":this._canvasScale=a<b?a:b}this._canvas.style.width=Math.floor(this._canvas.width*this._canvasScale)+"px";this._canvas.style.height=Math.floor(this._canvas.height*this._canvasScale)+"px"},_setEvent:function(){function a(a){return{x:a.pageX/j._canvasScale-j._canvas.offsetLeft,
y:a.pageY/j._canvasScale-j._canvas.offsetTop}}function b(a,c){if(c.willPropagate()){var d=a.getParent();a.dispatchEvent(c);d&&b(d,c)}}function c(a,b,d){for(var e=a._displayArr,f,g,h=e.length-1;0<=h;h--)if(f=e[h],f.getVisible()&&(g=a.localToGlobal(f._screenRect[0],f._screenRect[1]),g[0]<=b&&g[0]+f._screenRect[2]>=b&&g[1]<=d&&g[1]+f._screenRect[3]>=d))if(f._displayArr){if(f=c(f,b,d))return f}else return f;return null}function d(d){function p(d,f){var e=a(d),g=c(j._stage,e.x,e.y);g||(g=j._stage);k[f]=
g;e=new h(h.TOUCH_START,{x:e.x,y:e.y});b(g,e)}d.preventDefault();if("mousedown"==d.type)window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",f,!0),p(d,0);else for(var t=0,q=d.changedTouches.length;t<q;t++){var n=d.changedTouches[t];p(n,n.identifier)}}function e(c){function d(c,e){var f=k[e],g=a(c);f&&(g=new h(h.TOUCH_MOVE,{x:g.x,y:g.y}),b(f,g))}c.preventDefault();if("mousemove"==c.type)d(c,0);else for(var e=0,f=c.changedTouches.length;e<f;e++){var g=c.changedTouches[e];d(g,
g.identifier)}}function f(c){function d(c,e){var f=k[e],g=a(c);delete k[e];f&&(g=new h(h.TOUCH_END,{x:g.x,y:g.y}),b(f,g))}c.preventDefault();if("mouseup"==c.type)window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",f,!0),d(c,0);else for(var j=0,m=c.changedTouches.length;j<m;j++){var n=c.changedTouches[j];d(n,n.identifier)}}var j=this,k={};s.isMobile?(this._canvas.addEventListener("touchstart",d,!0),this._canvas.addEventListener("touchmove",e,!0),this._canvas.addEventListener("touchend",
f,!0)):this._canvas.addEventListener("mousedown",d,!0)},_setScroll:function(){function a(){1>=window.pageYOffset&&setTimeout(q(function(){scrollTo(0,1);setTimeout(q(this._setViewport,this),1E3)},this),10)}M?window.addEventListener("load",q(a,this),!1):a.call(this)},load:function(a){this._isStartedWithLoad=!0;this._imageManager||(this._imageManager=new L);this._imageManager.addEventListener(h.PROGRESS,q(this._loading,this));this._imageManager.addEventListener(h.COMPLETE,q(this._loaded,this));this._imageManager.load(a)},
_loading:function(){this.dispatchEvent(h.PROGRESS,{total:this._imageManager.getTotal(),loaded:this._imageManager.getLoaded()})},_loaded:function(){this._imageManager.removeEventListener(h.PROGRESS);this._imageManager.removeEventListener(h.COMPLETE);this.dispatchEvent(h.COMPLETE);this._startGame()},setGameClass:function(a,b){this._gameClass=a;this._gameParams=b},start:function(){if(this._game||this._isStartedWithLoad)throw Error("do not call System.start or System.load again");this._startGame()},_startGame:function(){p.tick();
this._game=new this._gameClass(this._gameParams,this);this._stage.addChild(this._game);this._prevTime=p.time;this._timer.start();this._intervalId=setInterval(q(this.run,this),1E3/this._fps)},stop:function(){clearInterval(this._intervalId)},run:function(){p.tick();this._runTime+=p.time-this._prevTime;this._runCount++;1E3<=this._runTime&&(this._realFps=1E3*this._runCount/this._runTime,this._runCount=this._runTime=0,this._fpsElem&&(this._fpsElem.innerHTML=this._realFps),this._realFps>this._maxFps&&(this._maxFps=
this._realFps));this._prevTime=p.time;this._disableClearRect||this._context.clearRect(0,0,this._width,this._height);this._game.update();this._stage.draw();this.dispatchEvent(h.ENTER_FRAME)},getWidth:function(){return this._width},getHeight:function(){return this._height},getImage:function(a,b){return this._imageManager.getImage(a,b)},getCanvas:function(){return this._canvas},getStage:function(){return this._stage},getFps:function(){return this._realFps}}),Z=j.create(f.DisplayObjectContainer,{_system:null,
initialize:function(a,b){this._system=b},update:function(){}}),M=!1;window.addEventListener("load",function(){M=!0},!1);N.arc={ua:s,display:f,anim:v,util:O,Class:j,Event:h,EventDispatcher:u,Timer:p,CountTimer:A,Ajax:P,ImageManager:L,System:Y,Game:Z}})(window);
